<style>
  .card {
    box-shadow: 0 4px 20px 0 rgba(0, 0, 0, 0.2);
    transition: 0.3s;
    width: 20%;
    border-radius: 10px;
    padding: 2%;
    background-color: lightcyan;

  }
  .card:hover {
    box-shadow: 0 8px 30px 0 rgba(0, 0, 0, 0.2);
  }
  .container {
    padding: 2px 16px;
  }
</style>

{% for sub in subdjangit %}
  <h1>{{ sub.title }}</h1>
  <h3>r/{{ sub.url }} is moderated by: {{ sub.moderator }}</h3>
  <h1>{{ sub.about }}</h1>
  <h3>{{ sub.created_at }}</h3>
  <br/>
  <a href="/">Home</a>
  <a href="/subscribe/{{ sub.url }}">Join</a>
  <div style="display: flex; flex-wrap: wrap; justify-content: space-around">
    {% for post in posts %}
      <div class="card">
        <h3><strong>{{ post.title }}</strong></h3>
        <p>{{ post.body }}</p>
        <!-- <p>url: {{ post.url }}</p> -->
        <br/>
        <p>Total: {{ post.vote_score }}</p>
        <p>Upvotes: {{ post.num_vote_up }}</p>
        <p>Downvotes: {{ post.num_vote_down }}</p>
        <form method="post" action="/r/{{sub.url}}/" style="display: inline">
          {% csrf_token %}
          <input type="hidden" value="upvote" name="upvote"></input>
          <input type="hidden" value="{{ post.id }}" name="upvote"></input>
          <button type="submit" class="butt">Upvote</button>
        </form>
        <form method="post" action="/r/{{sub.url}}/" style="display: inline">
          {% csrf_token %}
          <input type="hidden" value="downvote" name="downvote"></input>
          <input type="hidden" value="{{ post.id }}" name="downvote"></input>
          <button type="submit" class="butt">Downvote</button>
        </form>
        <br/>
        <br/>
        {% if sub in moderator %}
          <a href='/deletepost/{{post.id}}/{{sub.url}}/'>Delete</a>
        {% endif %}
        <a href="/r/{{sub.url}}/post/{{post.id}}/">Comment</a>
      </div>
    
    {% endfor %} 
  </div> 
{% endfor %} 

{% include 'postform.html'%}
